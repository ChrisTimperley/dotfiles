setopt prompt_subst interactivecomments extendedglob
HISTFILE=${XDG_STATE_HOME:-$HOME/.local/state}/zsh/history
HISTSIZE=200000
SAVEHIST=$HISTSIZE
setopt hist_ignore_all_dups hist_reduce_blanks inc_append_history

autoload -Uz compinit && compinit -C

# --- zgenom bootstrap ---
ZGENOM_HOME=${XDG_DATA_HOME:-$HOME/.local/share}/zgenom
source "$ZGENOM_HOME/zgenom.zsh"

zgenom autoupdate

# plugins
zgenom load zdharma-continuum/fast-syntax-highlighting
zgenom load zsh-users/zsh-autosuggestions
zgenom load marlonrichert/zsh-autocomplete   # or Aloxaf/fzf-tab if you prefer fzf
zgenom load agkozak/zsh-z                    # or zoxide (see below)

# Prompt (choose ONE)
# zgenom load romkatv/powerlevel10k
# OR:
command -v starship >/dev/null && eval "$(starship init zsh)"

# Save cached init on first run
zgenom save
